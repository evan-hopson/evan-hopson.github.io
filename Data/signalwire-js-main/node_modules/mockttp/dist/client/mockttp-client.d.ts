/**
 * @module Mockttp
 */
import { TypedError } from 'typed-error';
import { MockedEndpoint } from "../types";
import { Mockttp, AbstractMockttp, MockttpOptions, PortRange } from "../mockttp";
import { MockRuleData } from "../rules/mock-rule";
export declare class ConnectionError extends TypedError {
}
export declare class RequestError extends TypedError {
    response: Response;
    constructor(message: string, response: Response);
}
export declare class GraphQLError extends RequestError {
    errors: Array<{
        message: string;
    }>;
    constructor(response: Response, errors: Array<{
        message: string;
    }>);
}
declare type SubscribableEvent = 'request-initiated' | 'request' | 'response' | 'abort' | 'tlsClientError';
export interface MockttpClientOptions extends MockttpOptions {
    client?: {
        headers?: {
            [key: string]: string;
        };
    };
}
/**
 * A Mockttp implementation, controlling a remote Mockttp standalone server.
 *
 * This starts servers by making requests to the remote standalone server, and exposes
 * methods to directly manage them.
 */
export default class MockttpClient extends AbstractMockttp implements Mockttp {
    private mockServerOptions;
    private mockClientOptions;
    private mockServerConfig;
    private mockServerStream;
    private mockServerSchema;
    constructor(options?: MockttpClientOptions);
    private requestFromStandalone;
    private openStreamToMockServer;
    private requestFromMockServer;
    private queryMockServer;
    start(portConfig?: number | PortRange): Promise<void>;
    stop(): Promise<void>;
    private typeHasField;
    private typeHasInputField;
    enableDebug(): void;
    reset: () => Promise<boolean>;
    get url(): string;
    get port(): number;
    addRules: (...rules: MockRuleData[]) => Promise<MockedEndpoint[]>;
    setRules: (...rules: MockRuleData[]) => Promise<MockedEndpoint[]>;
    private _addRules;
    private _addRule;
    on(event: SubscribableEvent, callback: (data: any) => void): Promise<void>;
    private getEndpointData;
}
export {};
