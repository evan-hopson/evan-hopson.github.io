/// <reference types="node" />
import http = require('http');
import { TlsRequest } from '../types';
import { DestroyableServer } from '../util/destroyable-server';
import { CAOptions } from '../util/tls';
declare module "net" {
    interface Socket {
        upstreamEncryption?: boolean;
        encrypted?: boolean;
    }
}
declare module "tls" {
    interface TLSSocket {
        servername?: string;
        initialRemoteAddress?: string;
    }
}
export declare type ComboServerOptions = {
    debug: boolean;
    https?: CAOptions;
};
export declare function createComboServer(options: ComboServerOptions, requestListener: (req: http.IncomingMessage, res: http.ServerResponse) => void, tlsClientErrorListener: (req: TlsRequest) => void): Promise<DestroyableServer>;
